<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4A90E2" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="apple-touch-icon" href="imagenes/icons/192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="imagenes/icons/512.png" sizes="512x512" />
    <title>PWA Cámara</title>
    <style>
      body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; padding:1rem; }
      #controls { display:flex; gap:.5rem; flex-wrap:wrap; margin-bottom:1rem; }
      button { padding:.5rem .75rem; border-radius:8px; border:1px solid #ccc; background:#fff; }
      #cameraContainer { display: none; margin-top: 1rem; max-width:640px; }
      video { width: 100%; height: auto; border-radius: 8px; background:#000; }
      canvas { display:none; }
      #fotoContainer { margin-top:1rem; display:block; }
      /* Galería horizontal (thumbnails más grandes) */
      #gallery {
        display:flex;
        gap:.6rem;
        overflow-x:auto;
        padding: .6rem 0;
        align-items:center;
        -webkit-overflow-scrolling: touch;
      }
      .thumb {
        position:relative;
        flex: 0 0 auto;
        width: 160px;
        height: 120px;
        border-radius:8px;
        overflow:hidden;
        background:#f5f5f5;
        box-shadow:0 2px 6px rgba(0,0,0,.08);
      }
      .thumb img { width:100%; height:100%; object-fit:cover; display:block; }
      .thumb .del {
        position:absolute; top:6px; right:6px;
        background: rgba(220,53,69,0.9); color:#fff; border:none;
        padding:4px 6px; border-radius:6px; font-size:0.85rem;
      }
      .thumb .meta {
        position:absolute; left:6px; bottom:6px; right:6px;
        text-align:left; font-size:0.75rem; color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.6);
      }
      @media (max-width:420px){ .thumb{ width:120px; height:90px } }
    </style>
</head>
<body>
    <h1>PWA Cámara</h1>

    <div id="controls">
      <button id="openCamera">Abrir cámara</button>
      <button id="switchCamera" style="display:none">Cámara trasera</button>
      <button id="takePhoto" style="display:none">Tomar foto</button>
      <button id="closeCamera" style="display:none">Cerrar cámara</button>
    </div>

    <div id="cameraContainer" aria-hidden="true">
        <video id="video" autoplay playsinline muted></video>
    </div>

    <canvas id="canvas"></canvas>

    <div id="fotoContainer" aria-live="polite">
      <h2>Fotos</h2>
      <div id="gallery" aria-label="Galería de fotos"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>